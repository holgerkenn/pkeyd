****************************************************
* pkeyd 0.3a Public Key Distribution System Readme *
****************************************************

0. Warning 

As you can see in the first three lines of this file, this is
a ALPHA-Distribution. I am not sure that this package is going to do
what it should. So please have a look at the following notice:

This package pkeyd is copyrighted work by the 
University of Saarbruecken and Holger Kenn.

This package is delivered as is.

Permission to use, copy, and  distribute  this  software
and  its  documentation for any purpose and without fee is hereby
granted, provided that the above copyright notice appear  in  all
copies  and  that  both that copyright notice and this permission
notice appear in supporting documentation, and that the names  of
the  University  of  Saarbruecken and Holger Kenn not be
used in advertising or publicity pertaining  to  distribution  of
the  software  without  specific,  written prior permission.  The
University of Saarbruecken and  Holger Kenn  make  no
representations  about  the  suitability of this software for any
purpose.  It is provided "as is" without express or implied  war-
ranty.

THE UNIVERSITY OF SAARBRUECKEN AND HOLGER KENN DISCLAIM
ALL  WARRANTIES  WITH  REGARD TO THIS SOFTWARE, INCLUDING ALL IM-
PLIED WARRANTIES OF MERCHANTABILITY  AND  FITNESS.  IN  NO  EVENT
SHALL  THE UNIVERSITY OF SAARBRUECKEN AND HOLGER KENN BE
LIABLE FOR ANY SPECIAL, INDIRECT OR CONSEQUENTIAL DAMAGES OR  ANY
DAMAGES  WHATSOEVER  RESULTING FROM LOSS OF USE, DATA OR PROFITS,
WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE  OR  OTHER  TORTIOUS
ACTION,  ARISING  OUT OF OR IN CONNECTION WITH THE USE OR PERFOR-
MANCE OF THIS SOFTWARE.


So, if you've read all this stuff, now for the important part:

1. What is pkeyd ?

pkeyd and the other tools in this package provide a simple client-
server architecture for distributing public keys over the internet.
You can use any public key type with pkeyd, as long it is 
ASCII-encoded. pkeyd can be accessed over the internet and distributes the
public keys in its database upon request. pkeyd can search for the 
public key of a specified user by querying other pkeyd installations.
Therefore, a user-ID has two parts, the User-Name and the Domain-Name,
and looks like this:

<kenn@mpi-sb.mpg.de>

As you can easily see, this looks like an internet E-Mail-Adress. For
pkeyd, a query like

get <kenn@mpi-sb.mpg.de> 

means to connect to the server for mpi-sb.mpg.de and get the public key
of user kenn. The servers can be ordered hierarchicaly, this means,
there might be a server mpg.de who gets all the queries for all mpg.de-Domains
and distributes them to the available sub-server like mpi-sb.mpg.de.

To configure this feature, every server uses a simple routefile to
specify the other konwn servers. It could look like this

mpi-sb.mpg.de	mpii-ol.ag1.mpi-sb.mpg.de
cs.uni-sb.de	lisa1.cs.uni-sb.de
uni-sb.de	ftp.rz.uni-sb.de
*		root.server.com

If there are no matching domains for a query, it is redirected to the
server with name *, which is a root server for the whole hierarchy.

To provide fast access to the database, pkeyd users the gdbm library for 
storing keys. Therefor, the public keys have to be converted from
ASCII-Plaintext to a gdbm-file. There's the dbconf tool in the
distribution to do that.

the server process itself can be configured with a config file.
There's a compile-time config called local.h and a run-time
config called dbpkd.conf (but its name and locaktoon can be changed 
in local.h).

To configure pkeyd, please have a look at the example-config-files
in the distribution.

2. How to talk to the server ?

Just type 

telnet [hostname] [port]

If you've started the server on your local host in the default configuration
just type

telnet localhost 5000

and the server responds with

Connected to localhost
Escape character is '^]'.
%pkeyd>

now type in "dir" and the enter-key
and the server responds with a local database listing
%pkeyd>dir
START
<test@my.domain>
END
RET: 0

now type in "get <test@my.domain>"
and there's the public key

%pkeyd>get <test@my.domain>
START
AU:Test User <test@my.domain>
AK:***** THIS MAY BE TEST USERS PUBLICKEY *******
END
RET: 0 HOPS: 1



3. What is pkeyd not ?

pkeyd contains no cryptographic software. So it cannot guarantee
the originator of a public key. This information has to be provided 
by other means, eg. public key certificates.

4. How to compile it ?

You need gdbm-1.7.3 installed. It is available at
ftp://ftp.mpi-sb.mpg.de/pub/gnu/prep/gdbm-1.7.3.tar.gz
or almost everywhere else.

To compile, unpack teh distribution, go into the distribution main directory
and start ./configure which is a great script generated by GNU Autoconf.

Now you have to check local.h for any special settings, but to test the
package you should just go on and type "make"

If everyhing worked fine, you should get three executables, pkeyd, 
dbconv and dbprint. 

4. Where can I get it ant who's to blame ?

You can get this package on my homepage 

http://www.mpi-sb.mpg.de/~kenn/pkeyd

As far as I know now, this will be the main distribution site and there
will be the most recent version.

My E-Mail-Address is kenn@mpi-sb.mpg.de

Holger Kenn
